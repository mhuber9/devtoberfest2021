const getEntityNameFromDeleteCQN = cqn => {
  let from
  if (cqn && cqn.DELETE && cqn.DELETE.from) {
    if (typeof cqn.DELETE.from === 'string') {
      from = cqn.DELETE.from
    } else if (cqn.DELETE.from.name) {
      from = cqn.DELETE.from.name
    } else if (cqn.DELETE.from.ref && cqn.DELETE.from.ref.length === 1) {
      from = cqn.DELETE.from.ref[0]
    }
  }
  return from
}

const getEntityNameFromUpdateCQN = cqn => {
  return (cqn.UPDATE.entity.ref && cqn.UPDATE.entity.ref[0]) || cqn.UPDATE.entity.name || cqn.UPDATE.entity
}

module.exports = {
  getEntityNameFromDeleteCQN,
  getEntityNameFromUpdateCQN
}
